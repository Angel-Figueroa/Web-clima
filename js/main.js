const api={key:"f99b6124c681bbde61aed17dbfcdb72e",url:"https://api.openweathermap.org/data/2.5/weather"};let temperaturaValor=document.getElementById("temperatura-valor"),temperaturaDescripcion=document.getElementById("temperatura-descripcion"),ubicacion=document.getElementById("ubicacion"),iconoAnimado=document.getElementById("icono-animado"),vientoVelocidad=document.getElementById("viento-velocidad"),humedad=document.getElementById("humedad"),presion=document.getElementById("presion");var meses=new Array("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"),diasSemana=new Array("Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"),f=new Date;async function search1(){try{const e=await fetch(`${api.url}?q=ciudad valles&appid=${api.key}&lang=es`),a=await e.json();ubicacion.innerHTML=`${a.name}, ${a.sys.country}`,document.getElementById("fecha").innerHTML=f.getDate()+" de "+meses[f.getMonth()]+", "+diasSemana[f.getDay()],temperaturaValor.innerHTML=`${toCelsius(a.main.temp)}°C`;let n=a.weather[0].description;switch(temperaturaDescripcion.innerHTML=n.charAt(0).toUpperCase()+n.slice(1),vientoVelocidad.innerHTML=`${a.wind.speed} m/s`,humedad.innerHTML=`${Math.round(a.main.humidity)} %`,presion.innerHTML=Math.round(a.main.pressure),a.weather[0].main){case"Thunderstorm":iconoAnimado.src="./imagenes/thunder.svg";break;case"Drizzle":iconoAnimado.src="./imagenes/rainy-2.svg";break;case"Rain":iconoAnimado.src="./imagenes/rainy-7.svg";break;case"Snow":iconoAnimado.src="./imagenes/snowy-6.svg";break;case"Clear":iconoAnimado.src="./imagenes/day.svg";break;case"Atmosphere":iconoAnimado.src="./imagenes/weather.svg";break;case"Clouds":iconoAnimado.src="./imagenes/cloudy-day-2.svg";break;default:iconoAnimado.src="./imagenes/cloudy-day-1.svg"}}catch(e){swal({title:"Todos los campos son obligatorios",button:{text:"Ok"},icon:"info"})}}async function search(e){try{const a=await fetch(`${api.url}?q=${e}&appid=${api.key}&lang=es`),n=await a.json();ubicacion.innerHTML=`${n.name}, ${n.sys.country}`,document.getElementById("fecha").innerHTML=f.getDate()+" de "+meses[f.getMonth()]+", "+diasSemana[f.getDay()],temperaturaValor.innerHTML=`${toCelsius(n.main.temp)}°C`;let o=n.weather[0].description;switch(temperaturaDescripcion.innerHTML=o.charAt(0).toUpperCase()+o.slice(1),vientoVelocidad.innerHTML=`${n.wind.speed} m/s`,humedad.innerHTML=Math.round(n.main.humidity),presion.innerHTML=Math.round(n.main.pressure),n.weather[0].main){case"Thunderstorm":iconoAnimado.src="./imagenes/thunder.svg";break;case"Drizzle":iconoAnimado.src="./imagenes/rainy-2.svg";break;case"Rain":iconoAnimado.src="./imagenes/rainy-7.svg";break;case"Snow":iconoAnimado.src="./imagenes/snowy-6.svg";break;case"Clear":iconoAnimado.src="./imagenes/day.svg";break;case"Atmosphere":iconoAnimado.src="./imagenes/weather.svg";break;case"Clouds":iconoAnimado.src="./imagenes/cloudy-day-2.svg";break;default:iconoAnimado.src="./imagenes/cloudy-day-1.svg"}}catch(e){swal({title:"Todos los campos son obligatorios",button:{text:"Ok"},icon:"info"})}}function toCelsius(e){return Math.round(e-273.15)}function onSubmit(e){e.preventDefault(),search(searchbox.value)}document.getElementById("fecha").innerHTML=f.getDate()+" de "+meses[f.getMonth()]+", "+diasSemana[f.getDay()],search1();const searchform=document.getElementById("search-form"),searchbox=document.getElementById("searchbox");searchform.addEventListener("submit",onSubmit,!0);var loader=document.querySelector(".loader");function vanish(){loader.classList.add("disppear")}window.addEventListener("load",vanish);